#!/usr/bin/env php
<?php
require dirname(__FILE__) . '/../vendor/autoload.php';

$container = new \Symfony\Component\DependencyInjection\ContainerBuilder();

$httpClientDefinition = new \Symfony\Component\DependencyInjection\Definition(\Http\Adapter\Guzzle6\Client::class);
$container->setDefinition('http_client', $httpClientDefinition);

$deploy = new \Ubi\Deploy\Deploy(
    new \Ubi\Deploy\Service\CloudProvider($container->get('http_client')),
    new \Ubi\Deploy\Service\JenkinsManager($container->get('http_client'))
);
return $deploy->run();